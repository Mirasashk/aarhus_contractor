# Settings for Backend (on Cloud Run).
# See https://firebase.google.com/docs/app-hosting/configure#cloud-run
runConfig:
    minInstances: 0
    # maxInstances: 100
    # concurrency: 80
    # cpu: 1
    # memoryMiB: 512

# Environment variables and secrets.
env:
    # Configure environment variables.
    # See https://firebase.google.com/docs/app-hosting/configure#user-defined-environment
    - variable: NODE_ENV
      value: production
      availability:
          - BUILD
          - RUNTIME

    - variable: PORT
      value: '5000'
      availability:
          - BUILD
          - RUNTIME

    - variable: CORS_ORIGIN
      value: 'https://aarhuscontractor.dk'
      availability:
          - BUILD
          - RUNTIME

    - variable: FIREBASE_PROJECT_ID
      value: 'aarhuscontractor'
      availability:
          - BUILD
          - RUNTIME

    - variable: FIREBASE_STORAGE_BUCKET
      value: 'aarhuscontractor.firebasestorage.app'
      availability:
          - BUILD
          - RUNTIME

    - variable: FIREBASE_DATABASE_URL
      value: 'https://aarhuscontractor-default-rtdb.firebaseio.com'
      availability:
          - BUILD
          - RUNTIME

    # Grant access to secrets in Cloud Secret Manager.
    # See https://firebase.google.com/docs/app-hosting/configure#secret-parameters
    # Firebase Admin SDK will use Application Default Credentials (ADC)
    # No additional secrets needed for Firestore, Auth, and Storage
    # as they are automatically available when using ADC
